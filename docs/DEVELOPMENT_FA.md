# ุฏูุฑูู ุชูุณุนูู Super-Agent v0.1 (ุฑุงูููุง ุฌุงูุน โ ูุงุฑุณ)

**ูุฏู:** ุงู ุณูุฏ ฺฉ ุฏูุฑูู ุขููุฒุด ู ูุณุชูุฏุงุช ูุฑุญููโุจูโูุฑุญูู ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ุงุณุช ุชุง ุจุชูุงููุฏ ุงุฒ ุตูุฑ ุชุง ุตุฏ ูพุฑูฺูู Super-Agent (ูุณุฎูู v0.1) ุฑุง ุจููููุฏุ ุชูุณุนู ุฏููุฏุ ฺฏุณุชุฑุด ูพุฐุฑ ฺฉููุฏ ู ุงุฒ ุฑุงุจุท ุฎุท ูุฑูุงู ู ุฑุงุจุท ฺฉุงุฑุจุฑ ูุชู (TUI) ุงุณุชูุงุฏู ููุงูุฏ.

---

## ููุฑุณุช ูุทุงูุจ
1. ูุนุฑู ฺฉู ู ุงูุฏุงู
2. ูพุดโูุงุฒูุง ู ูุตุจ (Termux / Linux)
3. ุณุงุฎุชุงุฑ ุฏุฑุฎุช ูพุฑูฺู
4. ูุนูุงุฑ ูุงูโุง ู ุชูุถุญุงุช ูุฑ ูุงู
5. ุฑุงูโุงูุฏุงุฒ llama.cpp (HTTP server) ู ุชุณุช ุงุชุตุงู
6. ุฑุงูโุงูุฏุงุฒ ูพุฑูฺู ู ุงุฌุฑุง ุงููู
7. ุชูุถุญ ูุงฺููโูุง ู APIูุง ุฏุงุฎู (ฺฉุฏ ู ูุซุงู)
8. ุงูุฒูุฏู MicroAgent / SubAgent / SuperAgent: ุงูฺฏู + ููููู
9. ุงุจุฒุงุฑูุง (Tools) ู ุฑุงุจุท ุซุจุช ุขููุง
10. ุญุงูุธู (Memory) ู ูุฏุฑุช ฺฉูุชุงูโูุฏุช/ุจููุฏูุฏุช
11. ฺฏุฑุงู ุนุงููโูุง ู FSM Scheduler (ุชูุตู)
12. ุชูุณุนูู TUI ุจุฑุง ูพฺฉุฑุจูุฏ ุฏุฑููโุจุฑูุงููโุง (ูููุ ุฐุฎุฑูโุณุงุฒุ ุดุฎุตโุณุงุฒ)
13. ูฺฉุงุช ุทุฑุงุญุ ููุงุนุฏ ฺฉูุช ู ุงูฺฏููุง ูููุฏุณ
14. ุจุฑูุงููู ุชูุณุนูู ุขูุฏู (v0.2+)
15. ุนุจโุงุจ ู ุชุณุช

---

## 1) ูุนุฑู ฺฉู ู ุงูุฏุงู โจ
- Super-Agent ฺฉ runtime ูุญู ู Rust-native ุจุฑุง ุงุฌุฑุง ูุฌููุนูโุง ุณูุณููโูุฑุงุชุจ ุงุฒ Agentูุง ุงุณุช: **SuperAgent** (ููุงููฺฏโฺฉููุฏู)ุ **SubAgent** (ููุดโุฏุงุฑ ู ุญุงูุธูโุฏุงุฑ) ู **MicroAgent** (ุจุฏูู ุญุงูุธูุ ูุธููโุง).
- ุงูุฏุงู ฺฉูุฏ: ุงุฌุฑุง ูุทุน (deterministic)ุ ูุงุจู ุชูุณุนูุ ุจุฏูู ูุงุจุณุชฺฏ ุงุจุฑุ ู ูุงุจูุช ุงุฌุฑุง ุฑู Termux ุจุง LLM ูุญู (llama.cpp).

> **ูุฏูุง ููู:** ุฒุจุงู ูพุฑูฺู Rust (stable)ุ runtime async = tokioุ UI = ratatui (TUI)ุ LLM backend = llama.cpp (HTTP server mode) โ ุฏุฑ v0.1 ููุท ุงู ุญุงูุช ูพุดุชุจุงู ูโุดูุฏ.

---

## 2) ูพุดโูุงุฒูุง ู ูุตุจ (Termux / Linux) ๐๏ธ
- ูุตุจ Toolchain Rust:
  1. ูุตุจ rustup ู toolchain stable
     - Termux: `pkg install clang make openssl` (ุจุฑุงุณุงุณ ูุงุฒ)
     - ุณูพุณ: `curl https://sh.rustup.rs -sSf | sh` ู follow instructions
  2. cargo ุจุงุฏ ุฏุฑ PATH ุจุงุดุฏ: `source $HOME/.cargo/env`

- ูุงุฒููุฏโูุง ุฌุงูุจ:
  - ฺฉ ูุณุฎูู ุงุฒ llama.cpp ฺฉู ุชูุงูุง ุงุฑุงุฆูู HTTP server ุฑุง ุฏุงุฑุฏ (ุง ุงุฒ ูพุฑูฺูโุง ูุงููุฏ ggml-http-server ุงุณุชูุงุฏู ฺฉูุฏ).
  - ูุฏู GGUF ูุญู (ูุซูุงู `model.gguf` ุง ูุงู ุฏูุฎูุงู).

- ุจุฑุฑุณ ุชุจุฏู ูุญุท ุจู Termux: ุจุฑุง build on Android ููฺฉู ุงุณุช ุจู ูพฺฉุฌโูุง ุงุถุงู ูุงุฒ ุฏุงุดุชู ุจุงุดุฏ (toolchain-specific). ูุณุชูุฏุงุช llama.cpp ุฑุง ุจุฑุง ุฌุฒุฆุงุช cross-compilation ูุทุงูุนู ฺฉูุฏ.

---

## 3) ุณุงุฎุชุงุฑ ุฏุฑุฎุช ูพุฑูฺู (ุฏุฑ ูพุฑูฺูู ูุนู)

```
super-agent/
โโ Cargo.toml
โโ README.md
โโ docs/
โ  โโ DEVELOPMENT_FA.md
โโ src/
โ  โโ main.rs
โ  โโ types.rs
โ  โโ cli/
โ  โ  โโ commands.rs
โ  โโ tui/
โ  โ  โโ app.rs
โ  โ  โโ layout.rs
โ  โโ agent/
โ  โ  โโ mod.rs
โ  โ  โโ super_agent.rs
โ  โ  โโ sub_agent.rs
โ  โ  โโ micro_agent.rs
โ  โโ graph/
โ  โ  โโ mod.rs
โ  โ  โโ dag.rs
โ  โ  โโ fsm.rs
โ  โโ llm/
โ  โ  โโ mod.rs
โ  โ  โโ llama.rs
โ  โโ memory/
โ  โ  โโ mod.rs
โ  โ  โโ store.rs
โ  โโ tools/
โ     โโ mod.rs
โ     โโ registry.rs
```

> ุงู ุณุงุฎุชุงุฑ ุจุฑุง v0.1 ูพุงูโุง ู ูุงุจู ฺฏุณุชุฑุด ุทุฑุงุญโุดุฏู ุงุณุช.

> ุงู ุณุงุฎุชุงุฑ ุจุฑุง v0.1 ูพุงูโุง ู ูุงุจู ฺฏุณุชุฑุด ุทุฑุงุญโุดุฏู ุงุณุช.

---

## 4) ูุนูุงุฑ ูุงูโุง ู ููุด ูุฑ ูุงู ๐ง
- **Ratatui (TUI)** โ ููุงุด ฺฏุฑุงู ุนุงููโูุงุ ฺฏูุชฺฏููุงุ ูุงฺฏโูุง ู ูพููโูุง ุชูุธูุงุชุ ฺฉูุชุฑู ุงุฒ ุทุฑู ฺฉุจุฑุฏ.
- **CLI Router** โ ุฑุณุฏฺฏ ุจู ุฏุณุชูุฑุงุช ูุงููุฏ `agent run --goal`, `agent tui`, `agent graph`.
- **SuperAgent Orchestrator** โ ูุงูฺฉ ฺฏุฑุงู ุนุงููโูุง (DAG) ู FSM schedulerุ ุชุตููโฺฏุฑ ุฏุฑุจุงุฑูู ุชูฺฉฺฉ ฺฉุงุฑูุง ู ุชุฑุชุจ ุงุฌุฑุง.
- **SubAgent Runtime** โ ููุดโุฏุงุฑุ ุฏุงุฑุง ุญุงูุธูู ฺฉูุชุงูโูุฏุช/ุจููุฏูุฏุชุ ูโุชูุงูุฏ ุงุจุฒุงุฑูุงุ microagents ู LLM ุฑุง ูุฑุงุฎูุงู ฺฉูุฏ.
- **MicroAgent Pool** โ ุนุงููโูุง ุจุฏูู ุญุงูุธูุ ุณุฑุนุ ุชฺฉโูุธููโุง (ูุซุงู: Parserุ Formatter).
- **Tool Runtime Layer** โ ุงุจุฒุงุฑูุง ุซุจุชโุดุฏู (sandboxed by design ุฏุฑ v0.1: ููุท ุงุจุฒุงุฑูุง ุซุจุชโุดุฏู ุงุฌุฑุง ูโุดููุฏ).
- **LLM Adapter (llama.cpp)** โ adapter ูุจุชู ุจุฑ reqwest ฺฉู API ุณุงุฒฺฏุงุฑ ุจุง OpenAI `/v1/chat/completions` ุตุฏุง ูโุฒูุฏ.

---

## 5) ุฑุงูโุงูุฏุงุฒ llama.cpp (HTTP server) ู ุชุณุช ุงุชุตุงู โ
**ูุฑุญููโูุง:**
1. ุณุฑูุฑ llama.cpp ุฑุง ุจุง ูุฏู ุฎูุฏ ุงุฌุฑุง ฺฉูุฏ (ูุซูุงู `./server --model ./model.gguf --http 8080`).
2. endpoint ูพุดโูุฑุถ: `http://127.0.0.1:8080/v1/chat/completions`.
3. ุชุณุช ุจุง curl:
```bash
curl -X POST "http://127.0.0.1:8080/v1/chat/completions" -H "Content-Type: application/json" -d '{"model":"local.gguf","messages":[{"role":"user","content":"Hello"}]}'
```
4. ูพุงุณุฎ JSON ุจุงุฏ ุดุงูู `choices` ู `message.content` ุจุงุดุฏุ `src/llm/llama.rs` ุจุฑ ูพุงูู ููู ูุฑูุช ููุดุชู ุดุฏู ุงุณุช.

---

## 6) ุฑุงูโุงูุฏุงุฒ ูพุฑูฺู ู ุงุฌุฑุง ุงููู (ูุฏูโุจูโูุฏู) โถ๏ธ
1. clone ุง ูุฑุงุฑ ุฏุงุฏู ูพุฑูฺู ุฏุฑ ูุญุท Termux
2. ุชูุธู ูุชุบุฑูุง:
```bash
export LLAMA_ENDPOINT="http://127.0.0.1:8080"
export LLAMA_MODEL="local.gguf"
```
3. build:
```bash
cargo build --release
```
4. ุงุฌุฑุง ุชุณุช:
```bash
cargo run --release -- run --goal "Write a short plan to automate backups"
```
- ุฎุฑูุฌ ุจุงุฏ ุดุงูู Planุ Execution ู Review ุจุงุดุฏ.
- ุจุฑุง TUI: `cargo run --release -- tui` ู ุฏุงุฎู TUI ุจุง `q` ุฎุงุฑุฌ ูโุดูุฏ.

---

## 7) ุชูุถุญ ูุงฺููโูุง ู APIูุง ุฏุงุฎู (ุจุง ููููู ฺฉุฏ) ๐งฉ
### types.rs
- ุชุนุงุฑู `AgentInput`, `AgentOutput`, `Message`, `AgentState` ู ุชุงุจุน `new_id()`.

### agent/micro_agent.rs
- trait ุจุฑุง MicroAgent:
```rust
pub trait MicroAgent: Send + Sync {
    fn name(&self) -> &'static str;
    fn execute(&self, input: AgentInput) -> anyhow::Result<AgentOutput>;
}
```
- ูููููู `UppercaseAgent` ูุดุงูโุฏููุฏูู ูุฏู ุณุงุฏูู ูฺฉุฑูุงุฌูุชโูุง.

### agent/sub_agent.rs
- `SubAgent` ุดุงูู idุ roleุ memoryุ tools ู llm ุงุณุช.
- ูุชุฏูุง:
  - `plan(&self, goal: &str) -> Result<String>`: ุชูุงุณ ุจุง LLM ู ุฐุฎุฑูู ูพุงุณุฎ ุฏุฑ ุญุงูุธูู ฺฉูุชุงู.
  - `execute(&self, plan: &str) -> Result<AgentOutput>`: ุงุฌุฑุง ุจุฑูุงูู (ูุฑุงุฎูุงู ุงุจุฒุงุฑูุง).

### agent/super_agent.rs
- Orchestrator ฺฉู ูุฑุญููู planning โ executing โ reviewing ุฑุง ฺฉูุชุฑู ูโฺฉูุฏ.
- ุณุงุฒูุฏู ุงุฒ ูุชุบุฑูุง ูุญุท `LLAMA_ENDPOINT` ู `LLAMA_MODEL` ุงุณุชูุงุฏู ูโฺฉูุฏ.

### llm/llama.rs
- `LlamaClient` ุจุง ูุชุฏ async `chat(&self, messages: &[Message]) -> Result<String>` ฺฉู POST ุจู `/v1/chat/completions` ุงุฑุณุงู ูโฺฉูุฏ.

### tools/registry.rs
- trait `Tool` ฺฉู ุงุจุฒุงุฑูุง ุจุงุฏ ูพุงุฏูโุณุงุฒ ฺฉููุฏ.
- `ToolRegistry` ุจุฑุง ุซุจุช ู ุงุฌุฑุง ุงุจุฒุงุฑูุง (ุจุง `Arc<dyn Tool>`).

### memory/store.rs
- `MemoryStore` ุจุง ุฏู ูุณุช: `short_term` ู `long_term`ุ thread-safe ุจุง `parking_lot::RwLock`.

### graph/dag.rs ู graph/fsm.rs
- `AgentGraph`ุ ุณุงุฏู ู ูุงุจู ฺฏุณุชุฑุด ุจุฑุง ููุงุด ููุฏูุง/ุงูโูุง.
- FSM ุฏุฑ `fsm.rs` ููุงูู ุงูุชูุงู ุจู ุญุงูุงุช ุฑุง ุงุนูุงู ูโฺฉูุฏ.

---

## 8) ุงูุฒูุฏู MicroAgent / SubAgent / SuperAgent โ ุงูฺฏู + ูุซุงู ๐งช
### ุงูุฒูุฏู ฺฉ MicroAgent ุฌุฏุฏ (ุงูฺฏู)
1. ูุงู: `src/agent/micro_agent.rs` ุฑุง ฺฏุณุชุฑุด ุฏูุฏ ุง ฺฉ ูุงู ุฌุฏุฏ ุจุณุงุฒุฏ.
2. ูพุงุฏูโุณุงุฒ trait:
```rust
pub struct WordCountAgent;
impl MicroAgent for WordCountAgent {
    fn name(&self) -> &'static str { "word_count" }
    fn execute(&self, input: AgentInput) -> anyhow::Result<AgentOutput> {
        let count = input.text.split_whitespace().count();
        Ok(AgentOutput { text: count.to_string() })
    }
}
```
3. ุซุจุช ู ุงุณุชูุงุฏู: MicroAgentูุง ูโุชูุงููุฏ ุชูุณุท SubAgent ูุฑุงุฎูุงู ุดููุฏ ุง ุฏุฑ Tool ุชุจุฏู ุดููุฏ.

### ุงูุฒูุฏู ฺฉ Tool ุฌุฏุฏ
```rust
pub struct ReverseTool;
impl Tool for ReverseTool {
    fn name(&self) -> &'static str { "reverse" }
    fn description(&self) -> &'static str { "Reverses input text" }
    fn run(&self, input: AgentInput) -> ToolResult {
        Ok(ToolOutput { text: input.text.chars().rev().collect() })
    }
}
```
ุซุจุช:
```rust
let reg = ToolRegistry::new();
reg.register(Arc::new(ReverseTool));
```

### ุชูุณุนู SubAgent
- SubAgentูุง ูโุชูุงููุฏ ุงุจุฒุงุฑูุง ู ูฺฉุฑูุงุฌูุชโูุง ุฑุง ุฏุฑ runtime ุจุงุฑฺฏุฐุงุฑ ฺฉููุฏ ู memory ุฑุง ูุฏุฑุช ฺฉููุฏ. ุจููู ุงุณุช ฺฉู SubAgentูุง ุฑุงุจุท ุจุฑุง ุจุงุฑฺฏุฐุงุฑ ูพฺฉุฑุจูุฏ ุฏุงุดุชู ุจุงุดูุฏ (ูุซูุงู ุงุฒ ูุงู TOML ุง ุงุฒ ุชูุธูุงุช ุฏุฑูู TUI).

---

## 9) ุงุจุฒุงุฑูุง (Tools) ู ุงููุช ุงุฌุฑุง ๐
- ุฏุฑ v0.1 ุงุฌุฑุงูุง shell ุจู ุตูุฑุช ูพุดโูุฑุถ ููููุน ุงุณุชุ ฺฉูู ุงุจุฒุงุฑูุง ุจุงุฏ ุตุฑุญุงู ุฏุฑ `ToolRegistry` ุซุจุช ุดููุฏ.
- ุทุฑุงุญ sandbox ุฏุฑ ุขูุฏู: ูุญุฏูุฏุณุงุฒ I/Oุ ูุญุฏูุฏุณุงุฒ ูุฏุช ุฒูุงู ุงุฌุฑุงุ ูุญุฏูุฏุณุงุฒ ููุงุจุน ุจุง crates ูุซู `capsh` ุง `seccomp` (ุฏุฑ Linux) ุฏุฑ v0.2.

---

## 10) ุญุงูุธู (Memory) โ ุทุฑุงุญ ู ฺฏุณุชุฑุด
- v0.1: ุฏุฑ-memory (ุจุฏูู persistence)
- APIูุง ูพุดููุงุฏ ุจุฑุง ุงูุฒูุฏู persistence (v0.2):
  - trait `Persistence` ุจุง implement ุจุฑุง `sled` ู `sqlite`.
  - SubAgentูุง ฺฉ adapter ุจุฑุง ุฐุฎุฑู/ุจุงุฒุงุจ long-term memory ุฎูุงููุฏ ุฏุงุดุช.

---

## 11) ฺฏุฑุงู ุนุงููโูุง ู FSM Scheduler (ุชูุตู)
- ููุง ูพุงู: DAG (Directed Acyclic Graph). ูุฑ ููุฏ ููุงุงูฺฏุฑ ฺฉ SubAgent ุง ฺฉ Task ุงุณุช.
- Scheduler ุจุง ููุงูู FSM ุชุตูู ูโฺฏุฑุฏ ฺฉู ฺู ููุฏ ุจุนุฏ ุงุฌุฑุง ุดูุฏ ุชุง ุชุฑุชุจ ูุทุน ุญูุธ ุดูุฏ.
- ูุซุงู ููุงูู ุงูุชูุงู ุฏุฑ `graph/fsm.rs`:
```rust
match (current, next) {
  (Idle, Planning) => true,
  (Planning, Executing) => true,
  (Executing, Reviewing) => true,
  (Reviewing, Completed) => true,
  (_, Failed) => true,
  _ => false,
}
```
- ุจุฑุง ุงุฑุชูุงุก: ูพุงุฏูโุณุงุฒ priority queueุ timeout per nodeุ ู retry/backoff.

---

## 12) ุชูุณุนูู TUI โ ูพฺฉุฑุจูุฏ ุฏุฑููโุจุฑูุงููโุง (ูููุ ุฐุฎุฑูโุณุงุฒุ ุดุฎุตโุณุงุฒ) ๐ฅ๏ธ
ูุฏู: ุงุฒ ุฏุงุฎู ุฑุงุจุท TUI ฺฉุงุฑุจุฑ ูุงุฏุฑ ุจุงุดุฏ ฺฉู **ูุฏูโูุงุ ูฺฉุฑูุงุฌูุชโูุงุ ุณุงุจโุงุฌูุชโูุงุ ุณููพุฑโุงุฌูุชโูุงุ ุชูุธูุงุช ุฑูุชุงุฑ** ุฑุง ุจุตูุฑุช ุฒูุฏู ูุดุงูุฏู ู ุชุบุฑ ุฏูุฏ.

### ูฺฺฏโูุง ุฌุฏุฏ ูพุงุฏูโุณุงุฒโุดุฏู ุฏุฑ ุงู ูุณุฎู
- ุนููุงู ุจุฒุฑฺฏ ู ุฒุจุง ุฏุฑ ุตูุญูู ุขุบุงุฒ: `SuperAgentCli`.
- ูพูู ฺุช ุฏุฑ ูุฑฺฉุฒุ ูพูู ฺฏุฑุงู ุฏุฑ ฺูพุ ู ูพูู ูุงฺฏ/ุชูุธูุงุช ุฏุฑ ุฑุงุณุช.
- ุจุงฺฉุณ ูุฑูุฏ ุฏุฑ ูพุงู ุจุฑุง ุงุฑุณุงู ูพุงู. ฺฉูุฏ `/` ุจุฑุง ุจุงุฒ ฺฉุฑุฏู **Command Palette**ุ ุชุงูพ ุจุฑุง ููุชุฑ ู Enter ุจุฑุง ุงูุชุฎุงุจ.
- ุฏู ุชู ุฑูฺฏโุจูุฏ ุญุฑููโุง ุงุถุงูู ุดุฏู. ุงูุชุฎุงุจ ุชู ุงุฒ ุฏุงุฎู Command Palette ุงูุฌุงู ุดุฏู ู ุฏุฑ `~/.config/super-agent/config.toml` ุฐุฎุฑู ูโุดูุฏ.
- ฺฉูุฏูุง ูุงูุจุฑ: `q` ุฎุฑูุฌุ `Ctrl-s` ุฐุฎุฑูู ุชูุธูุงุช.
- **ูุฏุฑุช ูุฏูโูุง:** `m` ุจุงุฒ ฺฉุฑุฏู ูพูู ูุฏูโูุงุ `i` ูุงุฑุฏุณุงุฒ ูุฏู ุงุฒ ูุณุฑุ `s` ุฑุงูโุงูุฏุงุฒ ุณุฑูุณ/ูพุฑุงูุงุฏุฑ ุจุฑุง ูุฏู ุงูุชุฎุงุจโุดุฏู (ุณุน ูโฺฉูุฏ `llama.cpp` ุฑุง ุงุฌุฑุง ฺฉูุฏ ู ุฏุฑ ุตูุฑุช ุดฺฉุณุช ุงุฒ Mock ุงุณุชูุงุฏู ูโฺฉูุฏ).


ูพุดููุงุฏ ุทุฑุงุญ:
1. ฺฉ ูพูู ุชูุธูุงุช (Settings) ุฏุฑ ุณูุช ุฑุงุณุช ุง ุจุฎุด ูพุงู TUI ุงุถุงูู ฺฉูุฏ.
2. ุชูุธูุงุช ุงุตู:
   - **Models**: ูุณุช ุงุฒ endpoint/ูุฏูโูุงุ ุงูฺฉุงู ุงูุฒูุฏู/ุญุฐู/ุงูุชุฎุงุจ ูุฏู ูพุดโูุฑุถ.
   - **Agents**: ููุฑุณุช SubAgentูุงุ ุงูฺฉุงู ูุนุงู/ุบุฑูุนุงู ฺฉุฑุฏู ูฺฉุฑูุงุฌูุชโูุง ุง ูุตุจ ูุงฺูู ุฌุฏุฏ.
   - **Tools**: ุซุจุช ุงุจุฒุงุฑูุงุ ูุนุงู/ุบุฑูุนุงูโุณุงุฒุ ุชุณุช ูุฑูุฏ/ุฎุฑูุฌ.
   - **Persistence**: ุฑูุดู/ุฎุงููุด ฺฉุฑุฏู ุฐุฎุฑูโุณุงุฒ ูุญู.
3. ุฐุฎุฑูู ุชูุธูุงุช ุฏุฑ ูุงู `~/.config/super-agent/config.toml` ุง ุฏุฑ ูพูุดูู ูพุฑูฺู `config/config.toml`:
```toml
[llm]
endpoint = "http://127.0.0.1:8080"
model = "local.gguf"

[agents.default]
planner = "enabled"
executor = "enabled"
```
4. API ุฏุงุฎู ุจุฑุง ุชุบุฑ ุชูุธูุงุช ุฏุฑ ุฒูุงู ุงุฌุฑุง:
   - ูพุงุฏูโุณุงุฒ ฺฉ struct `RuntimeConfig` ฺฉู ุจุง `Arc<RwLock<_>>` ูฺฏูุฏุงุฑ ูโุดูุฏ. TUI ุชุบุฑุงุช ุฑุง ูุฑุงุด ูโฺฉูุฏ ู ุชุบุฑุงุช ุฑุง ููุชุดุฑ ูโฺฉูุฏ.

ูููููู ฺฉุงุฑ ุจุง `RuntimeConfig`:
```rust
let cfg = Arc::new(RwLock::new(RuntimeConfig::load()?));
// TUI ูโุชูุงูุฏ ุงู cfg ุฑุง ุจุง ฺฏุฑูุชู write lock ูุฑุงุด ฺฉูุฏ.
```

ุชูุฌู: ุญู ุงุนูุงู ุชุบุฑุงุช ุญุณุงุณ (ูุซู ุชุบุฑ ูุฏู LLM) ุจุงุฏ ุงุทููุงู ุญุงุตู ุดูุฏ ฺฉู ุชุนุงููโูุง ุฌุงุฑ ุจุง LLM ูพุงุงู ุงูุชู ุง ุจู ุตูุฑุช ุงูู ูุทุน ูโุดููุฏ.

---

## 13) ูฺฉุงุช ุทุฑุงุญุ ููุงุนุฏ ฺฉูุช ู ุจูุชุฑู ุดููโูุง โ
- **ุนุฏู ุงุณุชูุงุฏู ุงุฒ unwrap()** ุฏุฑ ูุงูโูุง ุงุตูุ ุฎุทุงูุง ุจุงุฏ ุจุง `anyhow` ุง error types ูุฏุฑุช ุดููุฏ.
- **ุณุงุฒูุงูโุฏู ูุงฺููโูุง** ุจุฑ ุงุณุงุณ ูุณุฆููุช (SRP).
- **ุขุฒูููโูพุฐุฑ:** ูุฑ ูุงฺูู ุจุงุฏ ูุงุจู ุชุณุช ูุณุชูู ุจุงุดุฏุ mockable LLM client (trait) ุจุฑุง unit test.
- **ููุฒูุงู:** ุจุฑุง ุฏุงุฏูโูุง ูุดุชุฑฺฉ ุงุฒ `Arc<RwLock<...>>` ุงุณุชูุงุฏู ฺฉูุฏุ ุงุฒ deadlock ู priority inversion ุงุฌุชูุงุจ ฺฉูุฏ.
- **ูุณุชูุฏุณุงุฒ:** ูุฑ ูุงฺูู ุจุง doc comments (`///`) ู ูุซุงูโูุง ููุฑุงู ุจุงุดุฏ.

---

## 14) ุจุฑูุงููู ุชูุณุนูู ุขูุฏู (v0.2+) ๐ญ
- FFI ูุณุชูู ุจู llama.cpp ุจุฑุง ฺฉุงูุด latency
- Streaming responses ุงุฒ LLM
- Persistence (sled/sqlite) ุจุฑุง long-term memory
- Rule-based or RL-based orchestrator ุจุฑุง ุชุตููโฺฏุฑ ุจูุชุฑ
- ูุงุจูุช sandboxing ฺฉุงูู ุงุจุฒุงุฑูุง ู ูฺฉุฑูุงุฌูุชโูุง
- Integration ุจุง frameworks multi-agent ูุญู ุฏุฑ Rust
- **Model Service**: ุชูุณุนูู Providerูุง ูุงูุน ุจุฑุง **llama.cpp** ู **Ollama** (auto-detect binaries, auto-start, health-check, manage model assignments). ููฺูู ุทุฑุงุญ ู ูพุงุฏูโุณุงุฒ ฺฉ Provider native (ุฏุฑููโุณุงุฎุช) ุจุฑุง ุจุงุฑฺฏุฐุงุฑ ูุณุชููุงู ูุงูโูุง ูุฏู (GGUF ู ุฏฺฏุฑ ูุฑูุชโูุง) ุจุง ูุฏู ุญุฐู ูุงุฒ ุจู ุจุงูุฑโูุง ุฎุงุฑุฌ โ ุงู ููุงู ูุณู ุฌุฏุฏุชุฑ ุณุฑูุณ ูุฏู ุงุณุช ฺฉู ุดูุง ุฏุฑุฎูุงุณุช ฺฉุฑุฏุฏ.
- ุฑุงุจุท TUI ู CLI ุจุฑุง ูุฏุฑุช ูุฏูโูุงุ import/exportุ ุชุณุช ูุฏูโูุง ู token/API-style access ุจู ุตูุฑุช ุงูู.

---

## 15) ุนุจโุงุจ ู ุชุณุช ๐งฐ
- ุงฺฏุฑ `cargo build` ุฏุฑ Termux ุฎุทุง ุฏุงุฏุ ฺฺฉ ฺฉูุฏ:
  - Rust toolchain ูุตุจ ุจุงุดุฏ
  - ฺฉุชุงุจุฎุงููโูุง Native ุจุฑุง build ููุฌูุฏ ุจุงุดูุฏ (openssl, pkg-config)
- ุชุณุช LLM ุจุง curl (ุจุฎุด 5)
- ุจุฑุง unit testsุ ุงุจุชุฏุง LLM client ุฑุง ุจุง mock ูพุงุฏู ฺฉูุฏ ู ุงุฒ ุขู ุจุฑุง ุชุณุช sub-agent logic ุงุณุชูุงุฏู ฺฉูุฏ.

### ุขูฺู ุชุงฺฉููู ุงุถุงูู ุดุฏ
- ฺฉ trait ูุงุจู mock ุจุฑุง LLM (`crate::llm::Llm`) ุชุนุฑู ุดุฏู ุชุง ุฏุฑ ุชุณุชโูุง ุจุชูุงู `MockLlm` ุฑุง ุฌุงฺฏุฒู ฺฉุฑุฏ.
- `src/llm/mock.rs` ุดุงูู `MockLlm` ุจุง ูพุงุณุฎ ุซุงุจุช ุจุฑุง ุชุณุชโูุง deterministic ุงุณุช.
- ุชุณุช ูุงุญุฏ ุฏุฑ `src/agent/sub_agent.rs` ุงุถุงูู ุดุฏู ฺฉู `SubAgent::plan` ุฑุง ุจุง `MockLlm` ุชุณุช ูโฺฉูุฏ ู ุงุฌุฑุง ุณุงุฏู ุจุง `EchoTool` ุฑุง ุจุฑุฑุณ ูโฺฉูุฏ.

ุจุฑุง ุงุฌุฑุง ุชุณุชโูุง (ุฑู ูุงุดู ุชูุณุนู ุฎูุฏ):
```bash
cargo test -- --nocapture
```


---

## ุฌูุนโุจูุฏ ู ฺฏุงู ุจุนุฏ โ
ุงู ุณูุฏ ฺฉ ุฏูุฑูู ฺฉุงููู ุดุฑูุน ุชุง ุชูุณุนูู ูพุฑูฺูู Super-Agent v0.1 ุฑุง ูพูุดุด ูโุฏูุฏ: ุงุฒ ุณุงุฎุชุงุฑ ูพุฑูฺู ู ุงุฌุฒุง ฺฉูุฏ ุชุง ุชูุณุนูู TUI ุจุฑุง ูพฺฉุฑุจูุฏ ุฏุฑูู ุจุฑูุงููโุง ู ูพุดููุงุฏุงุช ูู ุจุฑุง v0.2.

ุฏุฑ ูุฑุญููู ุจุนุฏ (ุทุจู ุฏุฑุฎูุงุณุช ุดูุง) ูู ูโุชูุงูู:
1. ุจุฎุดโูุง **ูพุงุฏูโุณุงุฒ TUI ุจุฑุง ูพฺฉุฑุจูุฏ ุฒูุฏู** ุฑุง ฺฉุงูู ฺฉูู ู ูุซุงูโูุง ุจุฑุง ูุฑูโูุงุ ูุณุชโูุง ู ุฐุฎุฑูโุณุงุฒ ุจููุณู. โ
2. ุง **ุขุฒูุงุด ูุงุญุฏ ู integration** ุฑุง ุงุถุงูู ฺฉูู (mock LLM, test runner). โ

ฺฉุฏุงู ฺฏุงู ุฑุง ุงุจุชุฏุง ุจุฎูุงูู ุงูุฌุงู ุฏููุ ๐ง

---

> ุจุฑุง ูุฑ ุจุฎุด ุงุฒ ุงู ุณูุฏ ูุงูุฏ ูุซุงูโูุง ฺฉุฏ ุจุดุชุฑ ุจุจูุฏุ ูุงู ุจุฎุด ุฑุง ุจฺฏูุฏ ุชุง ุชูุฑฺฉุฒ ุฑุง ุฑู ุขู ุจฺฏุฐุงุฑู ู ูพุงุฏูโุณุงุฒโ ุนูู ู ุชุณุช ุจููุณู.